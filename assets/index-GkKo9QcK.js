(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}})();function y(){document.body.insertAdjacentHTML("beforeend",`
      <footer class="bg-customBlack p-4 text-center text-white">
        <p>&copy; 2024 Crossfit Saint Denis. Tous droits réservés.</p>
      </footer>
    `)}async function h(e,n){const o=`https://graph.instagram.com/${n}/media?fields=id,caption,media_type,media_url,permalink,thumbnail_url,timestamp&access_token=${e}`;try{return(await(await fetch(o)).json()).data}catch(s){return console.error("Error fetching Instagram data:",s),[]}}function f(e){const n=e.innerText.split("").map(o=>{const s=document.createElement("span");return s.innerText=o,e.appendChild(s),s});return e.innerText="",n.forEach(o=>e.appendChild(o)),n}function b(){const e=gsap.timeline(),n=document.querySelector("#hero-title"),o=document.querySelector("#hero-subtitle"),s=f(n),t=f(o);gsap.set(n,{perspective:400}),gsap.set(o,{perspective:400}),console.log(s),console.log(t),e.from(s,{duration:.8,opacity:0,scale:0,y:80,rotationX:180,transformOrigin:"0% 50% -50",ease:"back",stagger:.05}).from(t,{duration:.8,opacity:0,scale:0,y:80,rotationX:180,transformOrigin:"0% 50% -50",ease:"back",stagger:.05},"-=0.4"),document.getElementById("animate").onclick=function(){e.restart()}}document.addEventListener("DOMContentLoaded",async()=>{y(),console.log("Footer created"),b();const e=document.getElementById("menu-button"),n=document.getElementById("mobile-menu");e&&n?e.addEventListener("click",()=>{const i=e.getAttribute("aria-expanded")==="true"||!1;e.setAttribute("aria-expanded",!i),n.classList.toggle("hidden"),e.querySelector("svg:nth-of-type(1)").classList.toggle("hidden"),e.querySelector("svg:nth-of-type(2)").classList.toggle("hidden")}):console.error("Menu button or mobile menu not found");const t=await h("b876daf9c430a1ed404f6faf59939304","804190774771707"),r=document.getElementById("instagram-feed");r&&(t.forEach(i=>{const c=document.createElement("div");c.className="swiper-slide",i.media_type==="IMAGE"||i.media_type==="CAROUSEL_ALBUM"?c.innerHTML=`<img src="${i.media_url}" alt="${i.caption}" />`:i.media_type==="VIDEO"&&(c.innerHTML=`<video controls><source src="${i.media_url}" type="video/mp4"></video>`),r.appendChild(c)}),new Swiper(".swiper-container",{loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}))});const m=["Bienvenue sur CrossFit Saint-Denis","Libérer votre potentiel ","Franchissez les barrières de votre zone de confort"];let l=0,a=0,d="",p=!1,u;function g(){if(d=m[l],p)document.getElementById("typewriter").textContent=d.substring(0,a-1),a--,a===0&&(p=!1,l++,l===m.length&&(l=0));else if(document.getElementById("typewriter").textContent=d.substring(0,a+1),a++,a===d.length){p=!0,clearInterval(u),setTimeout(()=>u=setInterval(g,100),2e3);return}}const v=new IntersectionObserver((e,n)=>{e.forEach(o=>{o.isIntersecting?u=setInterval(g,150):clearInterval(u)})},{threshold:.5});document.addEventListener("DOMContentLoaded",e=>{const n=document.getElementById("typewriter");v.observe(n)});
